# Document Ingestion Example: Nancy Ways of Working

**Date**: 2026-01-24
**Source**: Linear document (meta project)

---

## What Was Ingested

Retrieved the "Nancy Ways of Working: Issue Organization" document from Linear and converted it into a Nancy fragment.

**Linear Document Details:**
- **Title**: Nancy Ways of Working: Issue Organization
- **Project**: meta
- **Created**: 2026-01-24
- **URL**: https://linear.app/alphabio/document/nancy-ways-of-working-issue-organization-5bb1bf3cf578

---

## Ingestion Process

### 1. Retrieved from Linear

```bash
mcp__linear-server__list_documents → Found document
mcp__linear-server__get_document → Retrieved full content
```

### 2. Created Fragment

**File**: `templates/fragments/eng.workflow.nancy-issues.md`

**Frontmatter**:
```yaml
id: eng.workflow.nancy-issues
domain: eng
category: workflow
name: nancy-issues
title: Nancy Issue Organization
description: How to structure Linear issues for Nancy autonomous execution
version: 1.0.0
priority: 72
conditions:
  - context.tool == "nancy"
tags: ["workflow", "linear", "nancy", "issues"]
```

**Content**: Complete document with formatting preserved
- Core Pattern: Parent → Subs
- Golden Rule: Batch Your Work
- Breaking Down Features (Small/Medium/Large)
- When NOT to Create a Parent
- Questions to Ask

### 3. Created Domain-Specific Assembler

**File**: `templates/assemblers/task.nancy-worker.yaml`

**Purpose**: Assembler specifically for Nancy worker context

**Key Features**:
- Always includes Nancy-specific workflow fragment
- Includes Linear workflow
- Detects `context.tool == "nancy"` to include Nancy patterns
- Optimized for autonomous worker execution

---

## Why This Matters

This demonstrates Nancy's ability to:

1. **Ingest domain knowledge** from external sources (Linear docs, Notion, Confluence, etc.)
2. **Convert to fragments** automatically or semi-automatically
3. **Version control** organizational knowledge
4. **Apply conditionally** based on context
5. **Share across team** - everyone gets the same "ways of working"

---

## Pattern for Future Ingestions

### From Linear Documents

```typescript
// 1. List documents
const docs = await linear.listDocuments({ project: "meta" })

// 2. Get full content
const doc = await linear.getDocument(id)

// 3. Convert to fragment
const fragment = {
  id: slugify(doc.title),
  domain: detectDomain(doc.project),
  category: detectCategory(doc.title),
  name: extractName(doc.title),
  title: doc.title,
  version: "1.0.0",
  content: doc.content
}

// 4. Write fragment file
fs.writeFileSync(
  `templates/fragments/${fragment.id}.md`,
  formatFragment(fragment)
)
```

### From Other Sources

**Notion** → Export markdown → Convert to fragment
**Confluence** → REST API → Convert to fragment
**Google Docs** → Export markdown → Convert to fragment
**Markdown files** → Parse → Convert to fragment

---

## Benefits Demonstrated

### Before Ingestion
- Ways of working lived in Linear (hard to version)
- Not automatically included in Nancy context
- Required manual copy-paste
- Updates didn't propagate

### After Ingestion
- Ways of working is a versioned fragment
- Automatically included when `context.tool == "nancy"`
- Changes tracked in git
- Updates flow through provenance system

---

## Next Steps

### Other Documents to Ingest

1. **Engineering Guidelines**
   - Code review process
   - PR templates
   - Testing standards

2. **Brand Guidelines** (for marketing domain)
   - Voice and tone
   - Messaging pillars
   - Visual standards

3. **Legal Templates** (for legal domain)
   - Contract templates
   - Compliance checklists
   - Privacy policies

4. **HR Processes** (for hr domain)
   - Onboarding checklists
   - Performance review templates
   - Interview guides

### Automation Opportunities

Create ingestion scripts:

```bash
# Ingest from Linear
nancy ingest linear --project meta --pattern "Ways of Working"

# Ingest from Notion
nancy ingest notion --database "Engineering Docs"

# Ingest from local markdown
nancy ingest file ./docs/guidelines.md --domain eng
```

---

## Provenance Tracking

When this fragment is used, provenance shows:

```yaml
fragments:
  - id: eng.workflow.nancy-issues
    file: templates/fragments/eng.workflow.nancy-issues.md
    version: 1.0.0
    source: Linear document (meta project)
    source_url: https://linear.app/alphabio/document/nancy-ways-of-working-issue-organization-5bb1bf3cf578
    ingested_at: 2026-01-24T21:30:00Z
```

Full traceability from fragment back to source document.

---

## Summary

Successfully demonstrated:
✅ Ingesting domain knowledge from Linear
✅ Converting to Nancy fragment format
✅ Creating domain-specific assembler
✅ Preserving source attribution
✅ Making organizational knowledge version-controlled and composable

This pattern scales to any documentation source and any domain.
